### 작업 지시서

*   **문서 ID**: `20250727-02.md`
*   **작성일**: 2025년 7월 27일
*   **요청자**: 오지훈
*   **담당자**: Gemini

### 1. 개요

기존의 복합적인 방법론(GTD, OKR)을 대체하고, 워클리만의 독자적인 '워클리 고유 방법론'을 애플리케이션의 핵심 철학으로 도입합니다. 이를 위해 데이터 모델, API, UI/UX 전반에 걸쳐 '목표 → 프로젝트 → 업무'의 유연한 계층 구조와 '수집 → 계획 → 실행 → 검토(CPER)' 워크플로우를 적용하는 대규모 리팩토링을 진행합니다.

### 2. 핵심 원칙 및 정책

1.  **유연한 계층 구조**
    *   '목표 → 프로젝트 → 업무'는 권장 가이드라인일 뿐, **필수 강제 사항이 아닙니다.**
    *   **목표가 없는 프로젝트** 생성이 가능해야 합니다.
    *   **프로젝트가 없는 독립적인 업무** 생성이 가능해야 합니다.
    *   사용자는 업무를 먼저 만든 후, 나중에 해당 업무를 특정 프로젝트나 목표에 연결하는 '상향식(Bottom-up)' 구성이 가능해야 합니다.

2.  **네비게이션 구조 정의**
    *   애플리케이션의 핵심 네비게이션은 다음 5개 항목으로 구성합니다.
        1.  **업무 (Tasks)**
        2.  **프로젝트 (Projects)**
        3.  **수집함 (Inbox)**: 중앙에 위치하며, 시각적으로 강조된 디자인을 적용합니다.
        4.  **목표 (Goals)**
        5.  **프로필 (Profile)**

3.  **수집함(Inbox) 및 플로팅 액션 버튼(FAB) 정책**
    *   네비게이션의 '수집함'과 '플로팅 액션 버튼(FAB)'은 동일한 기능(빠른 항목 추가)을 수행합니다.
    *   **FAB는 데스크톱 환경에서만 표시**하여 접근 편의성을 높입니다.
    *   **모바일 환경에서는 FAB를 숨겨** 화면을 가리지 않고, 중앙의 '수집함' 버튼 사용을 유도합니다.

4.  **UI/UX 스타일 통일**
    *   '목표' 페이지는 복잡한 대시보드 형태가 아닌, 기존 '프로젝트'나 '업무' 목록과 같이 **간결한 카드 기반의 리스트 레이아웃**을 유지합니다.
    *   애플리케이션 전반의 디자인 통일성을 준수합니다.

### 3. 단계별 실행 계획

#### Phase 1: 기반 모델 및 API 재설계 (Foundation & API Redesign)

이 단계는 애플리케이션의 뼈대를 재구성하는 가장 중요한 과정입니다.

1.  **공통 타입 정의 (`/shared/types`)**
    *   기존 타입(`Objective`, `KeyResult` 등)을 새로운 모델에 맞게 재정의하거나 새로 만듭니다.
    *   `Goal.ts`: 목표 타입을 정의합니다. (id, title, description, progress 등)
    *   `Project.ts`: 프로젝트 타입을 수정합니다. `goalId` 필드를 **선택적(Optional/Nullable)**으로 변경합니다.
    *   `Task.ts`: 작업 타입을 수정합니다. `projectId` 필드를 **선택적(Optional/Nullable)**으로 변경합니다.
    *   `InboxItem.ts`: '수집함'에 들어올 항목의 타입을 정의합니다.

2.  **백엔드 (`/backend`)**
    *   **데이터베이스 스키마 변경**: `Goal` 테이블을 새로 생성하고, `Project` 테이블에 `goalId` 외래 키를 추가합니다. `Project`의 `goalId`와 `Task`의 `projectId`는 선택적 필드로 변경합니다.
    *   **API 엔드포인트 수정/추가**:
        *   `Goals API`: 목표(Goal)에 대한 CRUD API를 구현합니다.
        *   `Projects API`: 프로젝트 생성/수정 시 `goalId`를 필수로 받지 않도록 수정합니다.
        *   `Tasks API`: 기존 구조를 유지하되, 상위 프로젝트 및 목표와의 연결성을 항상 검증하도록 로직을 강화합니다. `projectId`를 필수로 받지 않도록 수정합니다.
        *   `Inbox API`: 수집함 항목을 생성하고 관리하는 API를 구현합니다.

3.  **프론트엔드 (`/frontend`)**
    *   애플리케이션 전반에서 사용되는 타입을 새로운 타입으로 교체합니다. 이 과정에서 발생하는 컴파일 오류를 해결하며 변경이 필요한 모든 컴포넌트를 식별합니다.

#### Phase 2: 핵심 UI/UX 재구축 (Core UI/UX Rebuild)

새로운 방법론에 맞춰 사용자가 상호작용하는 방식을 완전히 새로 설계합니다.

1.  **메인 네비게이션 변경**
    *   위에 정의된 5개의 항목으로 구성된 하단 네비게이션 바를 구현합니다.
    *   중앙의 '수집함(Inbox)' 버튼은 다른 버튼과 구별되는 크기, 색상, 아이콘 등으로 시각적 강조를 적용합니다.

2.  **화면 재설계**
    *   **게시판 페이지**: 게시판 페이지는 메인 메뉴의 페이지들과 성격이 달라 각각의 게시판을 따로 만들고, 데스크톱의 사이드 네비게이션, 모바일의 헤더에 있는 햄버거 메뉴 아이콘의 드롭다운 메뉴에 새로운 섹션을 나누어 게시판 링크를 추가합니다.
    *   **활동 페이지**: 활동 페이지는 중요도가 낮아, 프로필 페이지에 통합합니다.
    *   **목표 페이지**: 각 목표 카드는 목표 제목, 설명, 진행률 등 핵심 정보만 간결하게 표시합니다.
    *   **프로젝트 상세 페이지**: 우측 사이드바에 프로젝트 정보와 함께, 이 프로젝트가 속한 **상위 목표**를 명확하게 표시합니다.
    *   **용어 변경**: 애플리케이션 내 모든 'Objective', 'Key Result' 등의 용어를 '목표', '프로젝트', '업무'로 일괄 변경합니다.

#### Phase 3: 워크플로우 기능 구현 (Workflow Feature Implementation)

CPER 사이클을 실제로 동작하게 하는 기능들을 구현합니다.

1.  **수집 (Capture)**
    *   어느 화면에서나 접근 가능한 '글로벌 수집함 입력창' UI 컴포넌트를 개발하고, `Inbox API`와 연동합니다.
    *   화면 우측 하단에 위치하는 FAB 컴포넌트를 생성합니다. CSS 미디어 쿼리 등을 사용하여 **화면 너비가 특정 기준 이상일 때(데스크톱)만 표시**되도록 구현합니다. 클릭 시 '수집함' 기능(빠른 추가 모달 등)이 실행되도록 합니다.

2.  **계획 (Plan)**
    *   '수집함' 페이지에서 각 항목을 '프로젝트' 또는 '업무'로 전환하는 UI/UX를 구현합니다.
    *   업무(Task) 생성/수정 화면에 '프로젝트 연결' 항목을 추가합니다. 이 항목은 필수가 아니며, 사용자가 기존 프로젝트를 검색하여 연결하거나 비워둘 수 있습니다.
    *   프로젝트(Project) 생성/수정 화면에 '상위 목표 연결' 항목을 추가합니다. 이 또한 선택 사항입니다.

3.  **실행 (Execute)**
    *   '오늘 할 일' 페이지를 구현합니다. 마감일이 오늘이거나 사용자가 직접 추가한 업무들을 모아서 보여줍니다.
    *   목표 및 프로젝트 대시보드에 실시간 진행률 바(Progress Bar)를 적용합니다.

4.  **검토 (Review)**
    *   주간 성과(완료된 업무, 프로젝트 진행률 등)를 요약해서 보여주는 '주간 리포트' 페이지를 설계하고 구현합니다.
    *   백엔드는 리포트 생성을 위한 데이터 집계 API를 제공해야 합니다.

#### Phase 4: 문서화 및 최종 정리 (Documentation & Finalization)

1.  **내부 문서 업데이트**: `README.md`, `WorklyPlanning.md` 등 프로젝트 관련 문서를 새로운 워클리 고유 방법론에 맞게 모두 업데이트합니다.
2.  **코드 정리**: 기존 OKR/GTD 관련 로직과 컴포넌트 중 더 이상 사용되지 않는 코드를 모두 제거합니다.

### 4. 기대 효과

이 작업을 통해 워클리는 단순한 업무 관리 툴을 넘어, 사용자가 명확한 목표를 설정하고 달성해나가는 과정을 돕는 강력한 '목표 달성 플랫폼'으로 거듭날 것입니다.